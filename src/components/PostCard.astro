---
import { Badge } from './ui/badge';
import SpotlightCard from './SpotlightCard';

interface Props {
  title: string;
  description: string;
  pubDate: Date;
  tags: string[];
  slug: string;
}

const { title, description, pubDate, tags, slug } = Astro.props;
---

<SpotlightCard
  client:visible
  className="bg-card border border-border rounded-xl p-6 h-full"
  spotlightColor="rgba(0, 212, 255, 0.08)"
>
  <a href={`/blog/${slug}`} class="block group h-full">
    <div class="flex flex-col h-full">
      <div class="flex items-center gap-3 text-xs text-muted-foreground mb-3">
        <time datetime={pubDate.toISOString()}>
          {pubDate.toLocaleDateString('zh-CN', {
            year: 'numeric',
            month: 'short',
            day: 'numeric',
          })}
        </time>
      </div>

      <h3 class="text-lg font-semibold font-tech group-hover:text-primary transition-colors mb-2">
        {title}
      </h3>

      <p class="text-sm text-muted-foreground flex-1 mb-4 line-clamp-2">
        {description}
      </p>

      {tags.length > 0 && (
        <div class="flex flex-wrap gap-1.5">
          {tags.slice(0, 3).map((tag: string) => (
            <Badge variant="outline" className="text-[10px] font-tech">
              #{tag}
            </Badge>
          ))}
        </div>
      )}
    </div>
  </a>
</SpotlightCard>
